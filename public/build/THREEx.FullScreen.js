var THREEx=THREEx||{};THREEx.FullScreen=THREEx.FullScreen||{},THREEx.FullScreen.available=function(){return this._hasWebkitFullScreen||this._hasMozFullScreen},THREEx.FullScreen.activated=function(){if(this._hasWebkitFullScreen)return document.webkitIsFullScreen;if(this._hasMozFullScreen)return document.mozFullScreen;console.assert(!1)},THREEx.FullScreen.request=function(e){e=e||document.body,this._hasWebkitFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):this._hasMozFullScreen?e.mozRequestFullScreen():console.assert(!1)},THREEx.FullScreen.cancel=function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen?document.mozCancelFullScreen():console.assert(!1)},THREEx.FullScreen._hasWebkitFullScreen="webkitCancelFullScreen"in document?!0:!1,THREEx.FullScreen._hasMozFullScreen="mozCancelFullScreen"in document?!0:!1,THREEx.FullScreen.bindKey=function(e){e=e||{};var t=e.charCode||"f".charCodeAt(0),n=e.dblclick!==undefined?e.dblclick:!1,r=e.element,i=function(){THREEx.FullScreen.activated()?THREEx.FullScreen.cancel():THREEx.FullScreen.request(r)},s=function(e){if(e.which!==t)return;i()}.bind(this);return document.addEventListener("keypress",s,!1),n&&document.addEventListener("dblclick",i,!1),{unbind:function(){document.removeEventListener("keypress",s,!1),n&&document.removeEventListener("dblclick",i,!1)}}};